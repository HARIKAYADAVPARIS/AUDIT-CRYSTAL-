<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Audit Crystal | Global Standards Engine</title>
  <meta name="description" content="AI-powered CSRD, GRI, SASB & ISSB Audit Readiness Tool. Upload your sustainability report for instant gaps and scoring." />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            audit: { 50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc', 400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 800: '#075985', 900: '#0c4a6e' },
            sustain: { 500: '#10b981' }
          },
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          animation: {
            'blob': 'blob 7s infinite',
            'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
            'fade-in': 'fadeIn 0.5s ease-out forwards',
          },
          keyframes: {
            blob: { '0%': { transform: 'translate(0px, 0px) scale(1)' }, '33%': { transform: 'translate(30px, -50px) scale(1.1)' }, '66%': { transform: 'translate(-20px, 20px) scale(0.9)' }, '100%': { transform: 'translate(0px, 0px) scale(1)' } },
            fadeInUp: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
            fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } }
          }
        }
      }
    }
  </script>

  <!-- React & Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style> body { font-family: 'Inter', sans-serif; } </style>

  <!-- Import Map for Google GenAI -->
  <script type="importmap">
  {
    "imports": {
      "@google/genai": "https://esm.run/@google/genai"
    }
  }
  </script>
</head>
<body class="bg-slate-50 text-slate-900 antialiased selection:bg-audit-500 selection:text-white">
  <div id="root"></div>

  <script type="text/babel" data-type="module">
    import { GoogleGenAI } from "@google/genai";

    // --- CONFIGURATION ---
    window.process = {
      env: {
        // API Key injected as requested
        API_KEY: 'AIzaSyBG0OCty7w3-VxK8RJ1PeHQ2qGZv9J5F7I' 
      }
    };

    // --- TYPES & ENUMS ---
    const AppState = {
      IDLE: 'IDLE',
      ANALYZING: 'ANALYZING',
      COMPLETE: 'COMPLETE',
      ERROR: 'ERROR'
    };

    // --- SERVICES ---
    const generatePDF = (report) => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const pageWidth = doc.internal.pageSize.width;
      const pageHeight = doc.internal.pageSize.height;

      doc.setFillColor(15, 23, 42); 
      doc.rect(0, 0, pageWidth, 24, "F");
      doc.setTextColor(255, 255, 255);
      doc.setFontSize(18);
      doc.setFont("helvetica", "bold");
      doc.text("Audit Crystal", 14, 16);
      doc.setFontSize(10);
      doc.setFont("helvetica", "normal");
      doc.text("Global Standards Engine", pageWidth - 14, 16, { align: "right" });

      let y = 40;
      doc.setTextColor(15, 23, 42);
      doc.setFontSize(24);
      doc.setFont("helvetica", "bold");
      doc.text("Audit Readiness Report", 14, y);
      y += 10;
      doc.setFontSize(12);
      doc.setFont("helvetica", "normal");
      doc.setTextColor(71, 85, 105);
      doc.text(`Document: ${report.documentTitle}`, 14, y);
      y += 6;
      doc.text(`Date: ${new Date().toLocaleDateString()}`, 14, y);
      y += 6;
      doc.text(`Sector: ${report.sectorGuess} | Region: ${report.jurisdictionGuess}`, 14, y);
      y += 15;

      doc.setDrawColor(226, 232, 240);
      doc.setFillColor(248, 250, 252);
      doc.roundedRect(14, y, pageWidth - 28, 30, 3, 3, "FD");
      doc.setTextColor(15, 23, 42);
      doc.setFontSize(14);
      doc.setFont("helvetica", "bold");
      doc.text("Global Composite Score", 20, y + 12);
      const score = report.globalCompositeScore;
      doc.setFontSize(32);
      if (score > 75) doc.setTextColor(22, 163, 74);
      else if (score > 40) doc.setTextColor(217, 119, 6);
      else doc.setTextColor(220, 38, 38);
      doc.text(`${score}/100`, pageWidth - 25, y + 20, { align: "right" });
      y += 45;

      doc.setFontSize(14);
      doc.setTextColor(15, 23, 42);
      doc.setFont("helvetica", "bold");
      doc.text("Framework Evaluation", 14, y);
      y += 5;

      const tableData = report.standardsEvaluations.map(std => [
        std.standardKey.replace(/_/g, " "),
        std.maturityLabel,
        `${std.overallScore}%`,
        std.summary
      ]);

      doc.autoTable({
        startY: y,
        head: [["Framework", "Maturity", "Score", "Summary"]],
        body: tableData,
        theme: 'grid',
        headStyles: { fillColor: [15, 23, 42], textColor: 255, fontStyle: 'bold' },
        styles: { fontSize: 9, cellPadding: 4 },
        columnStyles: { 0: { fontStyle: 'bold', cellWidth: 40 }, 3: { cellWidth: 'auto' } }
      });
      y = doc.lastAutoTable.finalY + 15;

      if (y > pageHeight - 50) { doc.addPage(); y = 30; }
      doc.setFontSize(14);
      doc.setTextColor(185, 28, 28);
      doc.text("Critical Gaps", 14, y);
      y += 8;
      doc.setFontSize(10);
      doc.setTextColor(51, 65, 85);
      doc.setFont("helvetica", "normal");
      report.keyGaps.forEach((gap) => {
        if (y > pageHeight - 20) { doc.addPage(); y = 30; }
        const splitGap = doc.splitTextToSize(`â€¢ ${gap}`, pageWidth - 30);
        doc.text(splitGap, 14, y);
        y += (splitGap.length * 5) + 2;
      });

      doc.save("Audit_Crystal_Report.pdf");
    };

    const analyzeCSRDReadiness = async (content) => {
      const apiKey = window.process.env.API_KEY;
      if (!apiKey || apiKey.includes('YOUR_GEMINI')) {
        throw new Error("API Key is missing or invalid.");
      }

      const ai = new GoogleGenAI({ apiKey });
      const systemInstruction = `
        You are "Audit Crystal Global Standards Engine".
        Evaluate sustainability documents against global frameworks (CSRD, GRI, SASB, ISSB, TCFD, GHG Protocol).
        Tasks: Determine sector/jurisdiction. Evaluate alignment for each standard. Score 0-100. Identify gaps.
        Output purely valid JSON matching the schema provided.
      `;

      const parts = [];
      if (content.text) parts.push({ text: `DOCUMENT START\n${content.text}\nDOCUMENT END` });
      if (content.file) parts.push({ inlineData: { mimeType: content.file.mimeType, data: content.file.base64 } });

      const response = await ai.models.generateContent({
        model: "gemini-2.5-flash",
        contents: { parts },
        config: {
          systemInstruction,
          temperature: 0,
          responseMimeType: "application/json",
          responseSchema: {
            type: "OBJECT",
            properties: {
              documentTitle: { type: "STRING" },
              sectorGuess: { type: "STRING" },
              jurisdictionGuess: { type: "STRING" },
              globalCompositeScore: { type: "INTEGER" },
              keyGaps: { type: "ARRAY", items: { type: "STRING" } },
              globalRecommendations: { type: "ARRAY", items: { type: "STRING" } },
              standardsEvaluations: {
                type: "ARRAY",
                items: {
                  type: "OBJECT",
                  properties: {
                    standardKey: { type: "STRING" },
                    overallScore: { type: "INTEGER" },
                    maturityLabel: { type: "STRING" },
                    summary: { type: "STRING" },
                    topics: {
                      type: "ARRAY",
                      items: {
                        type: "OBJECT",
                        properties: {
                          topicId: { type: "STRING" },
                          score: { type: "INTEGER" },
                          coverageLevel: { type: "STRING" },
                          reasoning: { type: "STRING" },
                          evidenceSnippets: { type: "ARRAY", items: { type: "STRING" } },
                          recommendations: { type: "ARRAY", items: { type: "STRING" } }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      });
      return JSON.parse(response.text);
    };

    // --- COMPONENTS ---

    const Navbar = () => (
      <header className="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div className="container mx-auto px-4 h-16 flex justify-between items-center">
          <div className="flex items-center gap-2">
            <div className="h-8 w-8 bg-slate-900 rounded-lg flex items-center justify-center text-white font-bold text-sm">AC</div>
            <span className="font-bold text-lg text-slate-900">Audit Crystal</span>
          </div>
          <nav className="hidden md:flex items-center gap-8 text-sm font-medium text-slate-600">
            <a href="#upload-section" className="hover:text-audit-600">Scan</a>
            <a href="#pricing" className="hover:text-audit-600">Pricing</a>
            <a href="#contact" className="hover:text-audit-600">Contact</a>
          </nav>
          <button onClick={() => document.getElementById("upload-section")?.scrollIntoView({ behavior: "smooth" })} className="px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-bold hover:bg-slate-800 transition">Start Free Scan</button>
        </div>
      </header>
    );

    const LegalModal = ({ isOpen, onClose, type }) => {
      if (!isOpen) return null;
      React.useEffect(() => { document.body.style.overflow = 'hidden'; return () => { document.body.style.overflow = 'unset'; } }, []);
      return (
        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
          <div className="absolute inset-0 bg-black/40 backdrop-blur-sm" onClick={onClose}></div>
          <div className="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col z-10">
            <div className="flex justify-between items-center p-6 border-b border-slate-100">
              <h2 className="text-xl font-bold text-slate-900">{type === 'privacy' ? 'Privacy Policy' : 'Terms'}</h2>
              <button onClick={onClose}>âœ•</button>
            </div>
            <div className="p-6 overflow-y-auto text-sm text-slate-600">
              <p>This is a demo legal modal. In a real app, strict legal text goes here.</p>
            </div>
          </div>
        </div>
      );
    };

    const UploadSection = ({ onAnalyze, isAnalyzing }) => {
      const [text, setText] = React.useState('');
      const [file, setFile] = React.useState(null);
      const handleFile = (e) => {
        const f = e.target.files?.[0];
        if (f) {
          const r = new FileReader();
          r.onload = (ev) => setFile({ name: f.name, mimeType: f.type, base64: ev.target.result.split(',')[1] });
          r.readAsDataURL(f);
        }
      };
      return (
        <div className="w-full max-w-4xl mx-auto space-y-6">
          <div className="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden grid grid-cols-1 md:grid-cols-2">
             <div className="p-10 flex flex-col items-center justify-center bg-slate-50 relative border-r border-slate-100">
                <input type="file" accept=".pdf,.txt" onChange={handleFile} className="absolute inset-0 w-full h-full opacity-0 cursor-pointer" disabled={isAnalyzing} />
                <div className="w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center text-audit-600 mb-4 text-2xl">ðŸ“„</div>
                {file ? <p className="font-bold text-slate-800">{file.name}</p> : <p className="font-bold text-slate-900">Drop PDF here</p>}
             </div>
             <div className="p-8 bg-white flex flex-col">
                <textarea value={text} onChange={e => setText(e.target.value)} placeholder="Or paste text..." className="flex-1 w-full p-4 rounded-xl border border-slate-200 resize-none text-sm" rows={5} disabled={isAnalyzing}></textarea>
             </div>
          </div>
          <button onClick={() => onAnalyze(file, text)} disabled={(!file && !text) || isAnalyzing} className="w-full py-4 bg-audit-600 text-white font-bold rounded-xl hover:bg-audit-700 transition disabled:bg-slate-200">
            {isAnalyzing ? 'Scanning...' : 'Run Analysis'}
          </button>
        </div>
      );
    };

    const ScoreRing = ({ score, size = 'lg' }) => {
      const r = size === 'lg' ? 36 : 20;
      const dim = size === 'lg' ? 96 : 48;
      const circ = 2 * Math.PI * r;
      const offset = circ - (score / 100) * circ;
      const color = score > 80 ? '#10b981' : score > 50 ? '#f59e0b' : '#ef4444';
      return (
        <div className={`relative flex items-center justify-center ${size === 'lg' ? 'w-24 h-24' : 'w-12 h-12'}`}>
          <svg className="w-full h-full transform -rotate-90">
            <circle cx={dim/2} cy={dim/2} r={r} stroke="#f1f5f9" strokeWidth={size==='lg'?8:4} fill="transparent" />
            <circle cx={dim/2} cy={dim/2} r={r} stroke={color} strokeWidth={size==='lg'?8:4} fill="transparent" strokeDasharray={circ} strokeDashoffset={offset} strokeLinecap="round" />
          </svg>
          <span className={`absolute font-bold text-slate-900 ${size==='lg'?'text-2xl':'text-xs'}`}>{score}</span>
        </div>
      );
    };

    const ReportView = ({ report, onReset }) => {
      const [selKey, setSelKey] = React.useState(report.standardsEvaluations[0]?.standardKey);
      const selected = report.standardsEvaluations.find(s => s.standardKey === selKey);
      return (
        <div className="max-w-6xl mx-auto space-y-6 pb-12 animate-fade-in">
          <div className="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 flex flex-wrap gap-6 items-center justify-between">
            <div>
              <h1 className="text-2xl font-bold text-slate-900">{report.documentTitle || 'Audit Report'}</h1>
              <p className="text-sm text-slate-500">{report.sectorGuess} â€¢ {report.jurisdictionGuess}</p>
            </div>
            <div className="flex items-center gap-6">
               <div className="text-right">
                 <p className="text-xs font-bold text-slate-400 uppercase">Global Score</p>
                 <ScoreRing score={report.globalCompositeScore} />
               </div>
               <div className="flex flex-col gap-2">
                 <button onClick={() => generatePDF(report)} className="px-4 py-2 bg-slate-900 text-white text-sm font-bold rounded-lg">Download PDF</button>
                 <button onClick={onReset} className="text-xs text-slate-500 hover:underline text-right">New Scan</button>
               </div>
            </div>
          </div>
          
          <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <div className="lg:col-span-4 space-y-3">
               {report.standardsEvaluations.map(std => (
                 <div key={std.standardKey} onClick={() => setSelKey(std.standardKey)} className={`p-4 rounded-xl border cursor-pointer ${std.standardKey === selKey ? 'bg-audit-50 border-audit-500 ring-1 ring-audit-500' : 'bg-white border-slate-200 hover:border-audit-300'}`}>
                    <div className="flex justify-between items-center mb-1">
                       <span className="font-bold text-sm text-slate-800">{std.standardKey.replace(/_/g, ' ')}</span>
                       <span className="text-xs font-bold px-2 py-0.5 bg-slate-100 rounded text-slate-600">{std.maturityLabel}</span>
                    </div>
                    <div className="flex items-center gap-2">
                       <ScoreRing score={std.overallScore} size="sm" />
                       <span className="text-xs text-slate-500 line-clamp-1">{std.summary}</span>
                    </div>
                 </div>
               ))}
            </div>
            <div className="lg:col-span-8 space-y-6">
              {selected && (
                <div className="bg-white rounded-2xl border border-slate-200 overflow-hidden">
                   <div className="p-6 bg-slate-50 border-b border-slate-100">
                      <h2 className="text-xl font-bold text-slate-900">{selected.standardKey.replace(/_/g, ' ')} Analysis</h2>
                      <p className="text-sm text-slate-600 mt-1">{selected.summary}</p>
                   </div>
                   <div className="divide-y divide-slate-100">
                      {selected.topics.map((t, i) => (
                        <div key={i} className="p-4 hover:bg-slate-50">
                           <div className="flex justify-between items-center mb-2">
                              <span className="font-bold text-sm text-slate-800">{t.topicId}</span>
                              <div className="flex items-center gap-2">
                                <span className={`w-2 h-2 rounded-full ${t.coverageLevel==='full'?'bg-green-500':t.coverageLevel==='partial'?'bg-amber-500':'bg-red-500'}`}></span>
                                <span className="font-bold text-sm">{t.score}/100</span>
                              </div>
                           </div>
                           <p className="text-xs text-slate-600 mb-2">{t.reasoning}</p>
                           {t.recommendations?.length > 0 && <div className="text-xs text-blue-700 bg-blue-50 p-2 rounded">â†’ {t.recommendations[0]}</div>}
                        </div>
                      ))}
                   </div>
                </div>
              )}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                 <div className="bg-red-50 p-6 rounded-xl border border-red-100">
                    <h3 className="font-bold text-red-900 mb-3">Critical Gaps</h3>
                    <ul className="text-sm text-red-800 space-y-1">{report.keyGaps.map((g,i) => <li key={i}>â€¢ {g}</li>)}</ul>
                 </div>
                 <div className="bg-blue-50 p-6 rounded-xl border border-blue-100">
                    <h3 className="font-bold text-blue-900 mb-3">Roadmap</h3>
                    <ul className="text-sm text-blue-800 space-y-1">{report.globalRecommendations.map((r,i) => <li key={i}>â†’ {r}</li>)}</ul>
                 </div>
              </div>
            </div>
          </div>
          <div className="bg-slate-900 text-white rounded-2xl p-8 text-center">
             <h3 className="text-xl font-bold mb-2">Need a Certified Assurance Report?</h3>
             <button onClick={() => document.getElementById('contact')?.scrollIntoView({behavior:'smooth'})} className="px-6 py-2 bg-audit-500 rounded-lg font-bold hover:bg-audit-400">Contact Sales</button>
          </div>
        </div>
      );
    };

    const PricingSection = () => (
      <div id="pricing" className="py-20 px-4 text-center">
        <h2 className="text-3xl font-bold text-slate-900 mb-12">Audit Pricing</h2>
        <div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
           <div className="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm"><h3 className="font-bold text-xl">Scan</h3><p className="text-4xl font-bold my-4">Free</p><p className="text-sm text-slate-500 mb-6">For instant checks</p><button className="w-full py-2 bg-slate-100 rounded-lg font-bold">Current</button></div>
           <div className="bg-slate-900 text-white p-8 rounded-2xl border border-slate-800 shadow-xl transform md:-translate-y-4"><h3 className="font-bold text-xl">Deep Audit</h3><p className="text-4xl font-bold my-4">$499</p><p className="text-sm text-slate-400 mb-6">For consultants</p><button className="w-full py-2 bg-audit-600 rounded-lg font-bold hover:bg-audit-500">Book Audit</button></div>
           <div className="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm"><h3 className="font-bold text-xl">Enterprise</h3><p className="text-4xl font-bold my-4">Custom</p><p className="text-sm text-slate-500 mb-6">Human verification</p><button className="w-full py-2 border-2 border-slate-900 rounded-lg font-bold">Contact</button></div>
        </div>
      </div>
    );

    const ContactSection = () => (
      <div id="contact" className="bg-white py-20 border-t border-slate-100">
         <div className="max-w-4xl mx-auto px-4 text-center">
            <h2 className="text-3xl font-bold text-slate-900 mb-8">Contact Enterprise Sales</h2>
            <div className="bg-slate-50 p-8 rounded-2xl border border-slate-200">
               <p className="text-slate-500 mb-6">Need custom integration? Enter your email.</p>
               <div className="flex gap-2 max-w-md mx-auto">
                  <input type="email" placeholder="work@company.com" className="flex-1 px-4 py-2 rounded-lg border border-slate-300" />
                  <button className="px-6 py-2 bg-slate-900 text-white font-bold rounded-lg">Send</button>
               </div>
            </div>
         </div>
      </div>
    );

    // --- MAIN APP ---
    const App = () => {
      const [state, setState] = React.useState(AppState.IDLE);
      const [report, setReport] = React.useState(null);
      const [error, setError] = React.useState(null);
      const [legal, setLegal] = React.useState({ open: false, type: 'privacy' });

      const handleAnalyze = async (file, text) => {
        setState(AppState.ANALYZING);
        setError(null);
        try {
          const res = await analyzeCSRDReadiness({ file, text });
          setReport(res);
          setState(AppState.COMPLETE);
        } catch (e) {
          console.error(e);
          setError(e.message || "Analysis failed.");
          setState(AppState.ERROR);
        }
      };

      const reset = () => { setState(AppState.IDLE); setReport(null); setError(null); };

      return (
        <div className="min-h-screen flex flex-col">
          <div className="bg-slate-900 text-white text-xs font-bold py-2 text-center cursor-pointer" onClick={() => document.getElementById('contact')?.scrollIntoView()}>
            Join Pilot Program â€” Get 3 Free Deep Audits â†’
          </div>
          <Navbar />
          <LegalModal isOpen={legal.open} onClose={() => setLegal({ ...legal, open: false })} type={legal.type} />
          
          <main className="flex-grow relative z-10">
            {state === AppState.IDLE && (
              <div className="pt-16 pb-12">
                 <div className="container mx-auto px-4 text-center max-w-4xl mb-16">
                    <div className="inline-block px-3 py-1 rounded-full bg-audit-50 text-audit-600 text-xs font-bold mb-6 border border-audit-100">AI-Powered Assurance Engine</div>
                    <h1 className="text-5xl font-extrabold text-slate-900 mb-6 tracking-tight">Instant Global Standards Audit</h1>
                    <p className="text-xl text-slate-600 mb-8">CSRD â€¢ GRI â€¢ SASB â€¢ ISSB â€¢ TCFD</p>
                    <button onClick={() => document.getElementById('upload-section')?.scrollIntoView({behavior:'smooth'})} className="px-8 py-4 bg-slate-900 text-white font-bold rounded-xl shadow-xl hover:bg-slate-800 transition transform hover:-translate-y-1">Run Free Scan</button>
                 </div>
                 <div id="upload-section" className="container mx-auto px-4 pb-20">
                    <UploadSection onAnalyze={handleAnalyze} isAnalyzing={false} />
                 </div>
                 <PricingSection />
                 <ContactSection />
              </div>
            )}

            {state === AppState.ANALYZING && (
              <div className="min-h-[60vh] flex flex-col items-center justify-center space-y-6">
                 <div className="w-24 h-24 border-4 border-slate-200 border-t-audit-500 rounded-full animate-spin"></div>
                 <h3 className="text-2xl font-bold text-slate-800">Global Standards Engine</h3>
                 <p className="text-slate-500">Auditing against 9 frameworks...</p>
              </div>
            )}

            {state === AppState.ERROR && (
              <div className="container mx-auto px-4 py-16 text-center">
                 <div className="max-w-md mx-auto bg-white p-8 rounded-2xl shadow-xl border border-red-100">
                    <h3 className="text-xl font-bold text-red-600 mb-2">Analysis Failed</h3>
                    <p className="text-slate-500 mb-6">{error}</p>
                    <button onClick={reset} className="px-6 py-2 bg-slate-900 text-white rounded-lg">Try Again</button>
                 </div>
              </div>
            )}

            {state === AppState.COMPLETE && report && (
              <div className="container mx-auto px-4 py-8">
                 <ReportView report={report} onReset={reset} />
              </div>
            )}
          </main>

          <footer className="py-12 bg-slate-50 border-t border-slate-200 text-center space-y-4">
             <div className="flex justify-center gap-6 text-sm font-medium text-slate-600">
                <button onClick={() => setLegal({ open: true, type: 'privacy' })} className="hover:text-audit-600">Privacy</button>
                <button onClick={() => setLegal({ open: true, type: 'terms' })} className="hover:text-audit-600">Terms</button>
             </div>
             <p className="text-slate-400 text-xs">Â© 2024 Audit Crystal.</p>
          </footer>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>